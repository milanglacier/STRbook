---
layout: default
---

<div class="home">

<h1 id="code" class="page-heading">Code</h1>

<h2>STRbook</h2>

  <p><a href="https://github.com/andrewzm/STRbook" target="_blank">Supplementary package STRbook is available here</a>.</p>

  <p>To install <b>STRbook</b> in <span style="font-family: Courier; font-size: large;">R</span>, first install <b>devtools</b> and then run:</p>

  <code>
    library(devtools)<br />
    install_github("andrewzm/STRbook")
  </code>
<br />
<br />
<h2>The package <b>SpatioTemporal</b></h2>

  <p>The package <b>SpatioTemporal</b>, needed for Lab 4.3, is no longer available on CRAN. To install it, please download the source package from: </p>
  <p>
    <a href="https://cran.r-project.org/src/contrib/Archive/SpatioTemporal/SpatioTemporal_1.1.7.tar.gz?" target="_blank">https://cran.r-project.org/src/contrib/Archive/SpatioTemporal/SpatioTemporal_1.1.7.tar.gz?</a>
  </p>
  <p>Then, in the R console, type:</p>
  <code>
    install.packages(<path to downloaded package>, type = 'source', repos = NULL)
  </code>
    <p></p>
  <p>Note that on Windows machines, <i>RTools</i> needs to be installed to compile this package from source.</p>
<br />  
<h2>Labs</h2>

<p>Below we provide R code for all the Labs in the book:</p>

<p>
Chapter 2: <a href="Chap2_Lab1.R">Lab 2.1</a>, <a href="Chap2_Lab2.R">Lab 2.2</a>, <a href="Chap2_Lab3.R">Lab 2.3</a><br />
Chapter 3: <a href="Chap3_Lab1.R">Lab 3.1</a>, <a href="Chap3_Lab2.R">Lab 3.2</a>, <a href="Chap3_Lab3.R">Lab 3.3</a>, <a href="Chap3_Lab4.R">Lab 3.4</a><br />
Chapter 4: <a href="Chap4_Lab1.R">Lab 4.1</a>, <a href="Chap4_Lab2.R">Lab 4.2</a>, <a href="Chap4_Lab3.R">Lab 4.3</a>, <a href="Chap4_Lab4.R">Lab 4.4</a>, <a href="Chap4_Lab5.R">Lab 4.5</a><br />
Chapter 5: <a href="Chap5_Lab1.R">Lab 5.1</a>, <a href="Chap5_Lab2.R">Lab 5.2</a>, <a href="Chap5_Lab3.R">Lab 5.3</a><br />
Chapter 6: <a href="Chap6_Lab1.R">Lab 6.1</a>
</p>

<p>
Note that these Labs are only guaranteed to run and give the expected results with the package versions current of 2019. If you are having trouble running any of the Labs, we recommend trying to run the Labs on our online platform, which uses the required package versions, or to download the updated raw Sweave files that have been updated to account for newer versions of other packages that the Labs call. See below for further details.
</p>  
<br />  
<h2>Run the R Labs in your browser!</h2>
  
<p>
If you want to use the Labs with the same packages that were used when compiling our book in 2019, you can run them in your browser by simply clicking <a href="https://mybinder.org/v2/gh/Michaelyc/STRbook_binder/master?urlpath=rstudio" target="_blank">here</a>. 
This link will load RStudio (slowly the first time) in your browser; you will find all the Labs in the "scripts" folder (look at the bottom-right hand side of the RStudio panel). 
Click on "scripts," then double click on a script to open it, and advance through it line-by-line (press Ctrl+Enter successively to do this quickly) to enter it into the Console below. 
Just pressing the "Source" button at the top to run the Lab immediately doesnot always work. 
Note that a couple of Labs that run FRK have been changed slightly from the original version, to satisfy memory limits on this online platform
(a warning is issued so you know where we did the change). The online platform uses packages that were current when the book was published in 2019, and so all Labs should run without any problems. The platform may take a while to load the first time you click on it, but it is worth the wait!
</p>
<p>
We would like to thank <a href="https://zzheng93.github.io/" target="_blank">Zhonghua Zheng</a> for coming up with the idea and making the initial prototype,
and Yi Cao for ironing out the wrinkles and verifying that all Labs can run.  
</p>
<br />
    
<h2>Raw Sweave code for the Labs on github (Live Labs)</h2>

<p>
  We have made the raw Sweave (.Rnw) files for the Labs available on <a href="https://www.github.com/andrewzm/STRbook_Labs" target="_blank">this github page</a>. In order for these Labs to be independent from the rest of the book, they are compiled with a <em>standalone</em> switch set to <font face="Courier New">TRUE</font>. This switch mainly rewords sentences that refer to places in the book so that there are no broken references in the compiled documents.
</p>
<p>
The Labs on the github page are meant to be <em>Live Labs</em>, in the sense that they should work with the latest <em>R</em> packages. Users are also invited to contribute to the Labs by providing suggestions, fixes, and/or Lab extensions through pull requests.
</p>
<br />  
<h2>Other Code</h2>

<p><a href="Linked_Brushing.Rmd">Code for Linked Brushing (see Section 2.3.4) is available here</a>.</p>

  {{ content }}

</div>
